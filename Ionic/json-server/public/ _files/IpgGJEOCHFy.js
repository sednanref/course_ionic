if (self.CavalryLogger) { CavalryLogger.start_js(["A2WY\/"]); }

__d("ProfilePictureOverlaySurface",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INTERN_TOOL:"intern_tool",LANDING_MSITE:"landing_msite",LANDING_NATIVE:"landing_native",LANDING_WWW:"landing_www",PHOTO_EDITOR:"photo_editor",UNIT_TEST:"unit_test",WWW_DIALOG:"www_dialog",WWW_BIRTHDAY_DIALOG:"www_birthday_dialog"};},null);
__d("PromptsInteractionsEventNames",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={OPEN_SELECTING_CONTENT:"open_selecting_content",OPEN_SUGGESTING_CONTENT:"open_suggesting_content",CLOSE_SUGGESTION:"close_suggestion",SELECT_SUGGESTION:"select_suggestion",CANCEL_COMPOSER:"cancel_composer",POST_PROMPT:"post_prompt",POST_WITHOUT_PROMPT:"post_without_prompt",POST_CREATED:"post_created",IMPRESSION:"impression",SHOW_SUGGESTION:"show_suggestion",HIDE_SUGGESTION:"hide_suggestion",PROMPT_AVAILABLE:"prompt_available",PROMPT_NOT_CONSIDERED:"prompt_not_considered",DEIMPRESSION:"deimpression",CLICK_TAGGER:"og-tagger-click",UNDO_DISMISS:"undo_dismiss",SHARE:"share"};},null);
__d('AbstractRangeInput.react',['cx','Event','Keys','React','ReactDOM','UserAgent','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j={BLOCK:'block',PUSH:'push',FREE:'free'},k=c('React').createClass({displayName:'AbstractRangeInput',propTypes:{name:i.string,min:i.number,max:i.number,step:i.number,disabled:i.bool,values:i.array,behavior:i.oneOf([j.BLOCK,j.PUSH,j.FREE]),onChange:i.func},getDefaultProps:function(){return {name:'',min:0,max:1,step:.01,disabled:false,values:[.5],behavior:j.FREE};},componentWillReceiveProps:function(l){this.setState({values:l.values});},componentDidMount:function(){var l=c('UserAgent').isBrowser('IE < 9')?document.documentElement:window;this._listeners=c('Event').listen(l,{selectstart:function(m){this._thumbData&&c('Event').prevent(m);}.bind(this),mousemove:this._onMouseMove,mouseup:this._onMouseUp});},componentWillUnmount:function(){for(var l in this._listeners){this._listeners[l]&&this._listeners[l].remove();this._listeners[l]=null;}},getInitialState:function(){var l=this.props.values;if(this.props.behavior!==j.FREE)l.sort();return {values:l};},_onKeyDown:function(l,event){switch(c('Event').getKeyCode(event)){case c('Keys').DOWN:case c('Keys').LEFT:this._updateThumbData(l);this._moveThumbByX(-1);break;case c('Keys').RIGHT:case c('Keys').UP:this._updateThumbData(l);this._moveThumbByX(1);break;}},_onMouseDown:function(l,event){c('Event').prevent(event);this._updateThumbData(l);this._thumbData.dragStartX=event.nativeEvent.clientX;},_onMouseMove:function(event){if(this._thumbData)this._moveThumbByX(event.clientX-this._thumbData.dragStartX);},_updateThumbData:function(l){this._thumbData={draggingIdx:l,dragStartValue:this.state.values[l],scale:c('ReactDOM').findDOMNode(this).clientWidth};},_moveThumbByX:function(l){var m=(this.props.max-this.props.min)/this._thumbData.scale,n=this._thumbData.dragStartValue+l*m,o=this.state.values,p=o.length,q=this._thumbData.draggingIdx;if(this.props.step){var r=1/this.props.step;n=Math.round(n*r)/r;}var s=this.props.min,t=this.props.max;if(this.props.behavior===j.BLOCK){s=q>0?o[q-1]:s;t=q<p-1?o[q+1]:t;}n=n<s?s:n;n=n>t?t:n;o[q]=n;if(this.props.behavior===j.PUSH){for(var u=q+1,v=o.length;u<v;u++){if(o[u]>=n)break;o[u]=n;}for(u=q-1;u>=0;u--){if(o[u]<=n)break;o[u]=n;}}this.setState({values:o});this.props.onChange&&this.props.onChange(o);},_onMouseUp:function(event){if(this._thumbData)this._thumbData=null;},render:function(){var l=this.state.values,m=this.props.disabled,n=l.length>1,o=this.props.max-this.props.min,p=l.map(function(q,r){var s=(q-this.props.min)/o,t=this.props.name+(n?'['+r+']':'');return (c('React').createElement('div',{className:"_4qwr"+(m?' '+"_4qws":''),key:'thumb-'+r,onDragStart:c('Event').prevent,onKeyDown:m?null:function(u){return this._onKeyDown(r,u);}.bind(this),onMouseDown:m?null:function(u){return this._onMouseDown(r,u);}.bind(this),style:{left:s*100+'%'},tabIndex:0},c('React').createElement('input',{onChange:this.props.onChange,name:t,value:q,type:'hidden'})));}.bind(this));return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4qwt")}),c('React').createElement('div',{className:"_4qwu"}),p));}});f.exports=k;},null);
__d('lexCompare',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return function(j,k){var l=i(j),m=i(k);if(l<m)return -1;if(l>m)return 1;return 0;};}f.exports=h;},null);
__d('ProfilePicOverlayViewShapes',['React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=h.shape({id:h.string.isRequired,src:h.string.isRequired}),j=h.shape({original:h.shape({height:h.number.isRequired,uri:h.string.isRequired,width:h.number.isRequired}),id:h.string});f.exports={PHOTO_DATA:j,OVERLAY_DATA:i};},null);
__d('ProfilePictureOverlayCategory',['immutable'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k=c('immutable').Set,l=j({description:'',id:'',loadState:null,name:'',pageIDs:new k()});h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){h.apply(this,arguments);}f.exports=m;},null);
__d('ProfilePictureOverlayDispatcher',['ExplicitRegistrationReactDispatcher'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});},null);
__d('XAsyncRequest',['AsyncRequest'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$XAsyncRequest1=new (c('AsyncRequest'))(i);}h.prototype.setData=function(i){'use strict';this.$XAsyncRequest1.setData(i);return this;};h.prototype.setHandler=function(i){'use strict';this.$XAsyncRequest1.setHandler(i);return this;};h.prototype.setErrorHandler=function(i){'use strict';this.$XAsyncRequest1.setErrorHandler(i);return this;};h.prototype.send=function(){'use strict';this.$XAsyncRequest1.send();return this;};h.prototype.abort=function(){'use strict';this.$XAsyncRequest1.abort();};f.exports=h;},null);
__d("XProfilePictureOverlayFetchController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profile\/picture\/overlay\/fetch\/",{category_id:{type:"Int",required:true},overlay_sizes:{type:"IntVector",required:true},page_pic_size:{type:"Int",required:true}});},null);
__d('ProfilePictureOverlayCategoryStore',['FluxMapStore','ProfilePictureOverlayCategory','ProfilePictureOverlayDispatcher','XAsyncRequest','XProfilePictureOverlayFetchController','immutable'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Set;h=babelHelpers.inherits(k,c('FluxMapStore'));i=h&&h.prototype;k.prototype.reduce=function(l,m){var n=m.type,o=m.payload;switch(n){case 'category_bootstrap':return this.$ProfilePictureOverlayCategoryStore1(l,o);case 'category_change':return this.$ProfilePictureOverlayCategoryStore2(l,o);case 'category_load':return this.$ProfilePictureOverlayCategoryStore3(l,o);default:return l;}};k.prototype.$ProfilePictureOverlayCategoryStore1=function(l,m){var n=m.categories;if(!n)return l;return l.withMutations(function(o){n.forEach(function(p){return (o.set(p.id,new (c('ProfilePictureOverlayCategory'))(p)));});});};k.prototype.$ProfilePictureOverlayCategoryStore2=function(l,m){var n=m.categoryID,o=l.get(n);if(!o||o.loadState)return l;var p=c('XProfilePictureOverlayFetchController').getURIBuilder().setInt('category_id',o.id).setInt('page_pic_size',m.pagePicSize).setIntVector('overlay_sizes',m.overlaySizes).getURI();new (c('XAsyncRequest'))(p).setHandler(function(q){c('ProfilePictureOverlayDispatcher').dispatch({type:'category_load',payload:q.payload});}).send();o=o.set('loadState','loading');return l.set(o.id,o);};k.prototype.$ProfilePictureOverlayCategoryStore3=function(l,m){var n=m.categories;if(!n)return l;return l.withMutations(function(o){n.forEach(function(p){var q=l.get(p.id).withMutations(function(r){r.set('description',p.description).set('loadState','loaded').set('pageIDs',new j(p.pageIDs));});o.set(p.id,q);});});};function k(){h.apply(this,arguments);}f.exports=new k(c('ProfilePictureOverlayDispatcher'));},null);
__d('ProfilePictureOverlayPage',['immutable'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k=c('immutable').OrderedSet,l=j({id:'',name:'',overlayIDs:new k(),src:''});h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.fromObject=function(n){return new m(babelHelpers['extends']({},n,{overlayIDs:new k(n.overlayIDs)}));};m.prototype.indexOfOverlayID=function(n){return this.overlayIDs.toIndexedSeq().indexOf(n);};m.prototype.getNextOverlayID=function(n){return this.$ProfilePictureOverlayPage1(n,1);};m.prototype.getPrevOverlayID=function(n){return this.$ProfilePictureOverlayPage1(n,-1);};m.prototype.$ProfilePictureOverlayPage1=function(n,o){var p=this.indexOfOverlayID(n);if(p>=0){var q=p+o;if(q<this.overlayIDs.size&&q>=0)return this.overlayIDs.toIndexedSeq().get(q);}return null;};function m(){h.apply(this,arguments);}f.exports=m;},null);
__d('ProfilePictureOverlayPageStore',['FluxMapStore','ProfilePictureOverlayDispatcher','ProfilePictureOverlayPage'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxMapStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.type,n=l.payload;switch(m){case 'category_load':var o=n.pages;if(!o)return k;return k.withMutations(function(p){o.forEach(function(q){return (p.set(q.id,c('ProfilePictureOverlayPage').fromObject(q)));});});default:return k;}};function j(){h.apply(this,arguments);}f.exports=new j(c('ProfilePictureOverlayDispatcher'));},null);
__d('ProfilePictureOverlayStore',['FluxMapStore','ProfilePictureOverlay','ProfilePictureOverlayDispatcher'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxMapStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.type,n=l.payload;switch(m){case 'category_load':var o=n.overlays;if(!o)return k;return k.withMutations(function(p){o.forEach(function(q){return (p.set(q.id,c('ProfilePictureOverlay').fromObject(q)));});});default:return k;}};function j(){h.apply(this,arguments);}f.exports=new j(c('ProfilePictureOverlayDispatcher'));},null);
__d('ProfilePictureOverlayViewStore',['FluxStore','ProfilePictureOverlayCategoryStore','ProfilePictureOverlayDispatcher','ProfilePictureOverlayPageStore','ProfilePictureOverlayStore','setImmediate','lexCompare'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$ProfilePictureOverlayViewStore8=c('lexCompare')(function(l){return l.name;});this.$ProfilePictureOverlayViewStore9=c('lexCompare')(function(l){return l.name;});}j.prototype.getOverlaySizes=function(){return this.$ProfilePictureOverlayViewStore1;};j.prototype.getPagePicSize=function(){return this.$ProfilePictureOverlayViewStore2;};j.prototype.getSelectedCategoryID=function(){return this.$ProfilePictureOverlayViewStore5||null;};j.prototype.getSelectedOverlayID=function(){return this.$ProfilePictureOverlayViewStore6||null;};j.prototype.getSelectedPageID=function(){return this.$ProfilePictureOverlayViewStore7||null;};j.prototype.getCategoryComparator=function(){return this.$ProfilePictureOverlayViewStore8;};j.prototype.getPageComparator=function(){return this.$ProfilePictureOverlayViewStore9;};j.prototype.__onDispatch=function(k){var l=k.type,m=k.payload;switch(l){case 'category_bootstrap':this.$ProfilePictureOverlayViewStore10(m);break;case 'category_change':this.$ProfilePictureOverlayViewStore11(m.categoryID);break;case 'overlay_change':this.$ProfilePictureOverlayViewStore12(m.overlayID);break;case 'page_change':this.$ProfilePictureOverlayViewStore13(m.pageID);break;case 'category_load':this.$ProfilePictureOverlayViewStore14(m);break;default:break;}};j.prototype.$ProfilePictureOverlayViewStore10=function(k){c('ProfilePictureOverlayDispatcher').waitFor([c('ProfilePictureOverlayCategoryStore').getDispatchToken()]);this.$ProfilePictureOverlayViewStore1=k.overlaySizes;this.$ProfilePictureOverlayViewStore2=k.pagePicSize;this.$ProfilePictureOverlayViewStore3=k.selectedPageID;this.$ProfilePictureOverlayViewStore4=k.selectedOverlayID;this.$ProfilePictureOverlayViewStore5=k.selectedCategoryID;this.$ProfilePictureOverlayViewStore7=k.selectedPageID;this.$ProfilePictureOverlayViewStore6=k.selectedOverlayID;if(!this.$ProfilePictureOverlayViewStore5){var l=c('ProfilePictureOverlayCategoryStore').getState();if(this.$ProfilePictureOverlayViewStore8)l=l.sort(this.$ProfilePictureOverlayViewStore8);this.$ProfilePictureOverlayViewStore5=l.toIndexedSeq().get(0).id;}c('setImmediate')(function(){return c('ProfilePictureOverlayDispatcher').dispatch({type:'category_change',payload:{categoryID:this.$ProfilePictureOverlayViewStore5,overlaySizes:this.$ProfilePictureOverlayViewStore1,pagePicSize:this.$ProfilePictureOverlayViewStore2}});}.bind(this));this.__emitChange();};j.prototype.$ProfilePictureOverlayViewStore11=function(k){if(this.$ProfilePictureOverlayViewStore5!==k){this.$ProfilePictureOverlayViewStore5=k;this.$ProfilePictureOverlayViewStore7=null;this.$ProfilePictureOverlayViewStore6=null;this.__emitChange();}};j.prototype.$ProfilePictureOverlayViewStore13=function(k){if(this.$ProfilePictureOverlayViewStore7===k)return;if(!k){this.$ProfilePictureOverlayViewStore7=k;this.__emitChange();return;}var l=c('ProfilePictureOverlayPageStore').at(k),m=l.overlayIDs;if(!this.$ProfilePictureOverlayViewStore6||!m.has(this.$ProfilePictureOverlayViewStore6))this.$ProfilePictureOverlayViewStore6=m.toIndexedSeq().get(0);this.$ProfilePictureOverlayViewStore7=k;this.__emitChange();};j.prototype.$ProfilePictureOverlayViewStore14=function(k){c('ProfilePictureOverlayDispatcher').waitFor([c('ProfilePictureOverlayCategoryStore').getDispatchToken(),c('ProfilePictureOverlayPageStore').getDispatchToken(),c('ProfilePictureOverlayStore').getDispatchToken()]);var l=k.categories,m=l[0].id,n=c('ProfilePictureOverlayCategoryStore').at(m),o=n.pageIDs;if(this.$ProfilePictureOverlayViewStore3&&o.has(this.$ProfilePictureOverlayViewStore3)){this.$ProfilePictureOverlayViewStore7=this.$ProfilePictureOverlayViewStore3;var p=c('ProfilePictureOverlayPageStore').at(this.$ProfilePictureOverlayViewStore3),q=p.overlayIDs;if(this.$ProfilePictureOverlayViewStore4&&q.has(this.$ProfilePictureOverlayViewStore4))this.$ProfilePictureOverlayViewStore6=this.$ProfilePictureOverlayViewStore4;this.$ProfilePictureOverlayViewStore4=null;this.$ProfilePictureOverlayViewStore3=null;}else{var r=c('ProfilePictureOverlayPageStore').getAll(o);if(this.$ProfilePictureOverlayViewStore9)r=r.sort(this.$ProfilePictureOverlayViewStore9);this.$ProfilePictureOverlayViewStore7=r.toIndexedSeq().get(0).id;}if(this.$ProfilePictureOverlayViewStore7&&!this.$ProfilePictureOverlayViewStore6){var s=c('ProfilePictureOverlayPageStore').at(this.$ProfilePictureOverlayViewStore7),t=s.overlayIDs;this.$ProfilePictureOverlayViewStore6=t.toIndexedSeq().get(0);}};j.prototype.$ProfilePictureOverlayViewStore12=function(k){if(this.$ProfilePictureOverlayViewStore6!==k){this.$ProfilePictureOverlayViewStore6=k;this.__emitChange();}};f.exports=new j(c('ProfilePictureOverlayDispatcher'));},null);
__d('ProfilePictureOverlayFluxContainer.react',['FluxContainer','ProfilePictureOverlayDispatcher','React','immutable','ProfilePictureOverlayCategoryStore','ProfilePictureOverlayStore','ProfilePictureOverlayPageStore','ProfilePictureOverlayViewStore'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Map;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$ProfilePictureOverlayFluxContainer1=this.$ProfilePictureOverlayFluxContainer1.bind(this);this.$ProfilePictureOverlayFluxContainer2=this.$ProfilePictureOverlayFluxContainer2.bind(this);this.$ProfilePictureOverlayFluxContainer3=this.$ProfilePictureOverlayFluxContainer3.bind(this);this.state={categories:new j(),overlays:new j(),pages:new j(),overlaySizes:null,pagePicSize:null,selectedCategoryID:null,selectedOverlayID:null,selectedPageID:null};}k.calculateState=function(){var l=c('ProfilePictureOverlayCategoryStore'),m=c('ProfilePictureOverlayStore'),n=c('ProfilePictureOverlayPageStore'),o=c('ProfilePictureOverlayViewStore'),p=o.getSelectedCategoryID(),q=o.getSelectedPageID(),r=o.getSelectedOverlayID(),s=null,t=null,u=null,v=l.getState(),w=o.getCategoryComparator();if(w)v=v.sort(w);var x=new j(),y=new j();if(p){s=l.at(p);x=n.getAll(s.pageIDs);var z=o.getPageComparator();if(z)x=x.sort(z);if(q){t=x.get(q);if(t){y=m.getAll(t.overlayIDs);if(r)u=y.get(r);}}}return {categories:v,overlays:y,pages:x,overlaySizes:o.getOverlaySizes(),pagePicSize:o.getPagePicSize(),selectedCategoryID:s&&s.id,selectedOverlayID:u&&u.id,selectedPageID:t&&t.id};};k.getStores=function(){return [c('ProfilePictureOverlayCategoryStore'),c('ProfilePictureOverlayStore'),c('ProfilePictureOverlayPageStore'),c('ProfilePictureOverlayViewStore')];};k.prototype.render=function(){var l=this.props.Component;return (c('React').createElement(l,babelHelpers['extends']({},this.state,this.props,{onCategoryChange:this.$ProfilePictureOverlayFluxContainer1,onOverlayChange:this.$ProfilePictureOverlayFluxContainer3.bind(this),onOverlayNext:this.$ProfilePictureOverlayFluxContainer4.bind(this,true),onOverlayPrev:this.$ProfilePictureOverlayFluxContainer4.bind(this,false),onPageChange:this.$ProfilePictureOverlayFluxContainer2})));};k.prototype.$ProfilePictureOverlayFluxContainer1=function(l){c('ProfilePictureOverlayDispatcher').dispatch({type:'category_change',payload:{categoryID:l,overlaySizes:this.state.overlaySizes,pagePicSize:this.state.pagePicSize}});};k.prototype.$ProfilePictureOverlayFluxContainer2=function(l){c('ProfilePictureOverlayDispatcher').dispatch({type:'page_change',payload:{pageID:l}});};k.prototype.$ProfilePictureOverlayFluxContainer3=function(l){c('ProfilePictureOverlayDispatcher').dispatch({type:'overlay_change',payload:{overlayID:l}});};k.prototype.$ProfilePictureOverlayFluxContainer4=function(l){var m=this.state,n=m.selectedPageID,o=m.selectedOverlayID;if(n&&o){var p=this.state.pages.get(n),q=l?p.getNextOverlayID(o):p.getPrevOverlayID(o);if(q)this.$ProfilePictureOverlayFluxContainer3(q);}};f.exports=c('FluxContainer').create(k,{pure:false});},null);
__d('ProfilePicOverlayLandingViewInit',['ProfilePictureOverlayDispatcher','ProfilePictureOverlayFluxContainer.react','React','ReactRenderer','ProfilePictureOverlayCategoryStore','ProfilePictureOverlayPageStore','ProfilePictureOverlayStore','ProfilePictureOverlayViewStore'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={init:function(i){c('ProfilePictureOverlayDispatcher').explicitlyRegisterStores([c('ProfilePictureOverlayCategoryStore'),c('ProfilePictureOverlayPageStore'),c('ProfilePictureOverlayStore'),c('ProfilePictureOverlayViewStore')]);c('ReactRenderer').renderComponent(c('React').createElement(c('ProfilePictureOverlayFluxContainer.react'),i.props),i.root);c('ProfilePictureOverlayDispatcher').dispatch({type:'category_bootstrap',payload:i.bootstrapData});}};f.exports=h;},null);
__d('ProfilePicOverlaySelectorMixin',['fbt','xuiglyph','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i({name:'chevron-left',shade:'dark',size:'medium'}),k=i({name:'chevron-left',shade:'light',size:'medium'}),l=i({name:'chevron-right',shade:'dark',size:'medium'}),m=i({name:'chevron-right',shade:'light',size:'medium'}),n=c('React').PropTypes,o={propTypes:{onLeftClick:n.func.isRequired,onRightClick:n.func.isRequired,selectedItem:n.number.isRequired,totalItems:n.number.isRequired},_canClickLeft:function(){return this.props.selectedItem>1;},_canClickRight:function(){return this.props.selectedItem<this.props.totalItems;},_onLeftClick:function(){if(this._canClickLeft())this.props.onLeftClick();},_onRightClick:function(){if(this._canClickRight())this.props.onRightClick();},_getDarkLeftGlyph:function(){return j;},_getDarkRightGlyph:function(){return l;},_getLightLeftGlyph:function(){return k;},_getLightRightGlyph:function(){return m;},_getControlText:function(){return h._("Marco {currentItem} de {totalItems}",[h.param('currentItem',this.props.selectedItem),h.param('totalItems',this.props.totalItems)]);}};f.exports=o;},null);
__d('PhotoZoomCropSlider.react',['cx','Keys','React','AbstractRangeInput.react','clamp','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=6,k=c('React').createClass({displayName:'PhotoZoomCropSlider',propTypes:{onZoom:i.func,position:i.number,zoom:i.number,zoomRange:i.object},render:function(){var l=this.props.zoomRange;return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_55vh")},c('React').createElement('div',{className:(l.min===this.props.zoom?"_4nc5":'')+(' '+"_4nc6"),onClick:this._minus,onKeyUp:this._minusIfValid,tabIndex:0}),c('React').createElement(c('AbstractRangeInput.react'),{className:"_55vj",disabled:l.max===l.min,max:l.max,min:l.min,onChange:this._logarithmicZoom,values:[this.props.position]}),c('React').createElement('div',{className:(l.max===this.props.zoom?"_4nc5":'')+(' '+"_4nc7"),onClick:this._plus,onKeyUp:this._plusIfValid,tabIndex:0})));},_logarithmicZoom:function(l){var m=this.props.zoomRange.max,n=this.props.zoomRange.min,o=Math.log2(m),p=Math.log2(n),q=l[0],r=(o-p)/m,s=Math.exp(p+r*m),t=Math.exp(p+r*n),u=Math.exp(p+r*q),v=c('clamp')((u-t)/(s-t),0,100),w=n+v*(m-n);this.props.onZoom([w],q);},_zoomInDirection:function(l){var m=this.props.zoomRange.max,n=this.props.zoomRange.min;this.props.onZoom([c('clamp')(this.props.zoom+l*(m-n)/j,n,m)]);},_minus:function(){this._zoomInDirection(-1);},_minusIfValid:function(event){if(event.which===c('Keys').RETURN)this._minus();},_plus:function(){this._zoomInDirection(1);},_plusIfValid:function(event){if(event.which===c('Keys').RETURN)this._plus();}});f.exports=k;},null);
__d('PhotoBrowserLink.react',['AsyncDialog','AsyncRequest','Event','Link.react','Parent','React','tidyEvent'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j='data-photo-id';h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$PhotoBrowserLink1=this.$PhotoBrowserLink1.bind(this);}k.prototype.render=function(){return (c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{href:'#',onClick:this.$PhotoBrowserLink1}),this.props.children));};k.prototype.$PhotoBrowserLink1=function(){c('AsyncDialog').send(new (c('AsyncRequest'))(this.props.dialogURI),function(l){return c('tidyEvent')(c('Event').listen(l.getRoot(),'click',this.$PhotoBrowserLink2.bind(this,l)));}.bind(this));};k.prototype.$PhotoBrowserLink2=function(l,event){var m=c('Parent').byAttribute(event.getTarget(),j);if(m){event.kill();this.props.onPhotoChoose(m.getAttribute(j));l.finishHide();}};f.exports=k;},null);
__d('ProfilePicCoordinatesUtil',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getThumbnailCoordinates:function(i,j){return {endX:Math.abs((i.x+i.width)/j.width),endY:Math.abs((i.y+i.height)/j.height),startX:Math.abs(i.x/j.width),startY:Math.abs(i.y/j.height)};}};f.exports=h;},null);
__d('ProfilePictureCustomExpirationStrings',['fbt','DateConsts'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={BUTTON_SET:h._("Establecer"),DIALOG_TITLE:h._("Cambiar a la foto del perfil anterior en"),ERROR_NOTICE:h._("Selecciona una hora de finalizaci\u00f3n que tenga lugar al menos una hora en el futuro."),getExpirationString:function(j){if(j<c('DateConsts').SEC_PER_DAY){return this._getHourString(j);}else if(j<c('DateConsts').SEC_PER_WEEK){return this._getDayString(j);}else return this._getWeekString(j);},_getHourString:function(j){var k=Math.round(j/c('DateConsts').SEC_PER_HOUR);return h._({"*":"{numHours} horas","268435456":"1 hora"},[h.plural(k,'numHours')]);},_getDayString:function(j){var k=Math.round(j/c('DateConsts').SEC_PER_DAY);return h._({"*":"{numDays} d\u00edas","268435456":"1 d\u00eda"},[h.plural(k,'numDays')]);},_getWeekString:function(j){var k=Math.round(j/c('DateConsts').SEC_PER_WEEK);return h._({"*":"{numWeeks} semanas","268435456":"1 semana"},[h.plural(k,'numWeeks')]);}};f.exports=i;},null);
__d('ProfilePicCustomExpirationDialog.react',['cx','DatePickerRestraints','DateConsts','ProfilePictureCustomExpirationStrings','React','XUIDateTimePickerUtils','XUIDateTimePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=520,k=c('React').createClass({displayName:'ProfilePicCustomExpirationDialog',propTypes:{earliestDateAllowed:i.instanceOf(Date).isRequired,initialDate:i.instanceOf(Date),onCancel:i.func,onSubmit:i.func.isRequired,shown:i.bool.isRequired},getDefaultProps:function(){return {earliestDateAllowed:new Date(Date.now()+c('DateConsts').MS_PER_HOUR),initialDate:new Date(Date.now()+7*c('DateConsts').MS_PER_DAY)};},getInitialState:function(){return {date:this.props.initialDate};},render:function(){var l=this.state.date.getTime(),m=!!(l>=this.props.earliestDateAllowed.getTime()),n=new Date(this.props.earliestDateAllowed.getTime()),o=n.getTimezoneOffset()/c('DateConsts').MIN_PER_HOUR*-1,p=this._getStartDateRestraints(n,o);return (c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:false,shown:this.props.shown,width:j},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},c('ProfilePictureCustomExpirationStrings').DIALOG_TITLE),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('XUIDateTimePicker.react'),{className:"_3-8x",date:this.state.date,dateRestraints:p,onChange:function(q){return this.setState({date:q});}.bind(this)}),this._renderErrorNotice(m)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:!m,label:c('ProfilePictureCustomExpirationStrings').BUTTON_SET,onClick:function(){return this.props.onSubmit(this.state.date);}.bind(this),use:'confirm'}))));},_renderErrorNotice:function(l){return (c('React').createElement(c('XUINotice.react'),{className:"_3-8x"+(l?' '+"hidden_elem":''),use:'warn'},c('ProfilePictureCustomExpirationStrings').ERROR_NOTICE));},_getStartDateRestraints:function(l,m){var n=c('XUIDateTimePickerUtils').getOffsetUIDate(l,m),o=this._normalizeDate(n);return [c('DatePickerRestraints').enforceDateIsNoEarlierThan(o)];},_normalizeDate:function(l){return new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()));}});f.exports=k;},null);
__d('ProfilePicCropViewerStrings',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={BUTTON_CANCEL:h._("Cancelar"),BUTTON_CLOSE:h._("Cerrar"),BUTTON_EDIT:h._("Editar"),BUTTON_MAKE_TEMPORARY:h._("Usar temporalmente"),BUTTON_SAVE:h._("Guardar"),CAPTION_INPUT_PLACEHOLDER:h._("Agrega una descripci\u00f3n..."),CROP_AND_SAVE:h._("Recortar foto"),CROP_EXPLANATION:h._("Recorta esta foto antes de guardarla como foto del perfil."),CROP_INSTRUCTIONS:h._("Mueve el cuadro hasta el lugar donde quieres recortar la foto. Arrastra las esquinas hacia adentro o hacia afuera para ajustar el tama\u00f1o."),CROP_SAVING:h._("Guardando foto del perfil..."),LEAVE_WARNING_BODY:h._("Los cambios que hiciste tu foto del perfil no se guardar\u00e1n si cierras este cuadro de di\u00e1logo."),LEAVE_WARNING_CANCEL:h._("No salir de esta p\u00e1gina"),LEAVE_WARNING_OK:h._("Salir de esta p\u00e1gina"),LEAVE_WARNING_TITLE:h._("Los cambios no se guardaron"),LEAVE_WARNING_UNLOAD:h._("Los cambios que hiciste en tu foto del perfil no se guardaron."),LOADING:h._("Cargando..."),PREV_PHOTO_ADJUST_THUMBNAIL:h._("Ya usaste esta foto como foto del perfil."),FRAME_PREVENTS_CROP:h._("No puedes recortar la foto despu\u00e9s de agregarle un marco."),PREVIOUS_PIC:h._("Ya usaste esta foto como foto del perfil. \u00bfQuieres usarla de nuevo?"),PROFILE_PIC_VISIBILITY:h._("La foto del perfil siempre es p\u00fablica."),TEMPORARY_PROFILE_PIC_CONTROL:h._("Cambiar a la foto del perfil anterior en"),TEMPORARY_OPTION_ONE_HOUR:h._("1 hora"),TEMPORARY_OPTION_ONE_DAY:h._("1 d\u00eda"),TEMPORARY_OPTION_ONE_WEEK:h._("1 semana"),TEMPORARY_OPTION_NEVER:h._("Nunca"),TEMPORARY_OPTION_CUSTOM:h._("Personalizado"),HIDDEN_FROM_NEWS_FEED:h._("Los cambios no aparecer\u00e1n en la secci\u00f3n de noticias."),SAVE_AND_CROP:h._("Recortar y guardar"),SAVED_BODY:h._("Se guard\u00f3 correctamente tu foto del perfil."),SAVED_TITLE:h._("Foto del perfil guardada"),SET_THUMBNAIL:h._("Elegir imagen en miniatura"),SKIP_CROP:h._("No recortar"),SKIP_CROP_EXPLANATION:h._("Guarda toda la foto como foto del perfil y elige la imagen en miniatura."),THUMBNAIL_MODE_EXPLANATION:h._("Se guardar\u00e1 toda la foto como foto del perfil. Mu\u00e9vela para elegir la imagen en miniatura."),UMG_TITLE:h._("Crear foto del perfil"),UPLOADING:h._("Subiendo..."),USE_AS_PROFILE_PICTURE:h._("Usar como foto del perfil"),SMALL_PHOTO_WARNING:h._("Esta foto es peque\u00f1a, y tu foto del perfil se ver\u00e1 con menos claridad."),ZOOM_WARNING:h._("Tu foto del perfil no se ver\u00e1 n\u00edtida si la ampl\u00edas tanto.")};f.exports=i;},null);
__d('ProfilePicExpirationSelector.react',['cx','DateConsts','ProfilePicCropViewerStrings','ProfilePictureCustomExpirationStrings','React','ReactComponentWithPureRenderMixin','Layout.react','ProfilePicCustomExpirationDialog.react','XUIGrayText.react','XUISelector.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('Layout.react').Column,j=c('Layout.react').FillColumn,k=c('XUISelector.react').Option,l=-1,m=-2,n={HOUR:c('DateConsts').SEC_PER_HOUR,DAY:c('DateConsts').SEC_PER_DAY,WEEK:c('DateConsts').SEC_PER_WEEK,NEVER:l,CUSTOM:m},o=c('React').PropTypes,p=c('React').createClass({displayName:'ProfilePicExpirationSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{defaultValue:o.number.isRequired,onChange:o.func.isRequired,showCustomOption:o.bool},getInitialState:function(){return {customExpirationString:c('ProfilePicCropViewerStrings').TEMPORARY_OPTION_CUSTOM,showCustomExpirationDialog:false,value:this.props.defaultValue};},render:function(){var q=null,r=null;if(this.props.showCustomOption){q=c('React').createElement(k,{onclick:function(){return this.setState({showCustomExpirationDialog:true});}.bind(this),value:n.CUSTOM},this.state.customExpirationString);r=c('React').createElement(c('ProfilePicCustomExpirationDialog.react'),{onCancel:this._onCustomDateCancel,onSubmit:this._onCustomDateSubmit,shown:this.state.showCustomExpirationDialog});}return (c('React').createElement(c('Layout.react'),{className:c('joinClasses')("_31ka",this.props.className)},c('React').createElement(j,{className:"_3m_e"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-91",shade:'medium',size:'small'},c('ProfilePicCropViewerStrings').TEMPORARY_PROFILE_PIC_CONTROL)),c('React').createElement(i,null,c('React').createElement(c('XUISelector.react'),{defaultValue:this.props.defaultValue,onChange:this._changeHandler,size:'large',value:this.state.value},c('React').createElement(k,{value:n.HOUR},c('ProfilePicCropViewerStrings').TEMPORARY_OPTION_ONE_HOUR),c('React').createElement(k,{value:n.DAY},c('ProfilePicCropViewerStrings').TEMPORARY_OPTION_ONE_DAY),c('React').createElement(k,{value:n.WEEK},c('ProfilePicCropViewerStrings').TEMPORARY_OPTION_ONE_WEEK),c('React').createElement(k,{value:n.NEVER},c('ProfilePicCropViewerStrings').TEMPORARY_OPTION_NEVER),q)),r));},_changeHandler:function(q){this.setState({value:q.value});if(this.props.showCustomOption&&q.value===m){this.setState({showCustomExpirationDialog:true});}else this.props.onChange(q.value);},_onCustomDateSubmit:function(q){var r=Math.round((q.getTime()-Date.now())/c('DateConsts').MS_PER_SEC);this.setState({customExpirationString:c('ProfilePictureCustomExpirationStrings').getExpirationString(r),showCustomExpirationDialog:false,value:m});this.props.onChange(r);},_onCustomDateCancel:function(){var q=Object.keys(n).map(function(s){return n[s];}),r=q.indexOf(this.props.defaultValue)===-1?n.CUSTOM:this.props.defaultValue;this.setState({showCustomExpirationDialog:false,value:r});}});f.exports=p;},null);
__d('ProfilePicOverlay.react',['cx','React','ReactComponentWithPureRenderMixin','Image.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ProfilePicOverlay',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{src:i.string.isRequired},render:function(){return (c('React').createElement(c('Image.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4i_g")})));}});f.exports=j;},null);
__d('ProfilePicOverlayCategorySelector.react',['React','ReactComponentWithPureRenderMixin','immutable','XUISelector.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('immutable').Map,i=c('XUISelector.react').Option,j=c('React').PropTypes,k=c('React').createClass({displayName:'ProfilePicOverlayCategorySelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{categories:j.instanceOf(h).isRequired,defaultValue:j.string,onChange:j.func.isRequired},render:function(){var l=this.props.categories.map(function(m){return (c('React').createElement(i,{key:m.id,value:m.id},m.name));});return (c('React').createElement(c('XUISelector.react'),babelHelpers['extends']({},this.props,{size:'large'}),l.toArray()));}});f.exports=k;},null);
__d('ProfilePicOverlayChangePictureLink.react',['cx','fbt','xuiglyph','Image.react','PhotoBrowserLink.react','React','XUIText.react','joinClasses'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('PhotoBrowserLink.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_3xf-")}),c('React').createElement(c('Image.react'),{className:"_3-8_",src:j({name:'album',size:'small'})}),c('React').createElement(c('XUIText.react'),{size:'small'},i._("Cambiar foto"))));};function m(){'use strict';k.apply(this,arguments);}f.exports=m;},null);
__d('OverlayAccentCheckmark.react',['ix','cx','React','ReactComponentWithPureRenderMixin','Image.react','fbglyph','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'OverlayAccentCheckmark',mixins:[c('ReactComponentWithPureRenderMixin')],render:function(){return (c('React').createElement(c('Image.react'),{className:c('joinClasses')(this.props.className,"_590w"),src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/checkmark-solid_20_accent-blue.png")}));}});f.exports=j;},null);
__d('ProfilePicOverlaySelectableItem.react',['cx','Keys','Link.react','OverlayAccentCheckmark.react','ProfilePicOverlayPreview.react','React','Tooltip','joinClasses'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props,m=l.selected,n=l.name,o=null;if(m)o=c('React').createElement(c('OverlayAccentCheckmark.react'),{className:"_5ylr"});var p=null;if(n)p=c('Tooltip').propsFor(this.props.name);return (c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_5yls"+(m?' '+"_5ynp":'')),'data-tooltip-alignH':'center','data-tooltip-position':'below',onKeyDown:this.$ProfilePicOverlaySelectableItem1.bind(this)},p),c('React').createElement(c('ProfilePicOverlayPreview.react'),{className:"_5ynq",height:this.props.size,overlaySrc:this.props.src,width:this.props.size}),o));};k.prototype.$ProfilePicOverlaySelectableItem1=function(event){'use strict';if(event.keyCode!==c('Keys').RETURN||event.keyCode!==c('Keys').SPACE)return true;this.props.onClick();return false;};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('ProfilePicOverlayGridSelector.react',['cx','React','ReactComponentWithPureRenderMixin','ReactDOM','CenteredContainer.react','Grid.react','ProfilePicOverlayCategorySelector.react','ProfilePicOverlaySelectableItem.react','XUISpinner.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('Grid.react').GridItem,j=c('React').PropTypes,k=72,l=c('React').createClass({displayName:'ProfilePicOverlayGridSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{categories:j.object.isRequired,numGridCols:j.number,onCategorySelectorChange:j.func.isRequired,onPageClickHandler:j.func.isRequired,pages:j.object.isRequired,panelHeight:j.number.isRequired,panelPadding:j.number.isRequired,selectedCategoryID:j.string,selectedPageID:j.string},getDefaultProps:function(){return {numGridCols:4,panelPadding:0};},render:function(){var m=null;if(this.props.categories.size>1&&this.props.selectedCategoryID)m=c('React').createElement('div',{className:"_5peb _2pia _2pif"},c('React').createElement(c('ProfilePicOverlayCategorySelector.react'),{categories:this.props.categories,defaultValue:this.props.selectedCategoryID,onChange:this.props.onCategorySelectorChange}));var n=void 0;if(this.props.pages.size>0){n=c('React').createElement(c('Grid.react'),{cols:this.props.numGridCols,spacing:"_2phz"},this.props.pages.map(function(p){return this._getGridItem(p);}.bind(this)).toArray());}else n=c('React').createElement(c('CenteredContainer.react'),{fullHeight:true,horizontal:true,vertical:true},c('React').createElement(c('XUISpinner.react'),{size:'large'}));var o=this.props.panelHeight-this.props.panelPadding;return (c('React').createElement('div',null,m,c('React').createElement('div',{className:"_5pec",style:{height:o,maxHeight:o}},n)));},_getGridItem:function(m){var n=m.id===this.props.selectedPageID,o=null;if(n)o=function(p){if(p!==null)c('ReactDOM').findDOMNode(p).scrollIntoView();};return (c('React').createElement(i,{key:m.id},c('React').createElement(c('ProfilePicOverlaySelectableItem.react'),{name:m.name,onClick:function(){return this.props.onPageClickHandler(m.id);}.bind(this),ref:o,selected:m.id===this.props.selectedPageID,size:k,src:m.src})));}});f.exports=l;},null);
__d('ProductionPromptShapes',['React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=h.shape({promptID:h.string.isRequired,promptType:h.string.isRequired,trackingString:h.string.isRequired});f.exports={LOGGING_DATA:i};},null);
__d('ProfileWizardModalManager',['Arbiter','ProfileWizardUIEvents','TimelineProfilePicConfig','tidyEvent'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.setIsOpen(false);}h.prototype.setIsOpen=function(i){'use strict';this.$ProfileWizardModalManager1=i;return this;};h.prototype.isOpen=function(){'use strict';return this.$ProfileWizardModalManager1;};h.prototype.informProfilePictureUploaded=function(i){'use strict';c('Arbiter').inform(c('ProfileWizardUIEvents').PROFILE_PIC_UPLOADED,i);};h.prototype.informStepEdited=function(i){'use strict';c('Arbiter').inform(c('ProfileWizardUIEvents').STEP_EDITED+'-'+i);};h.prototype.subscribeProfilePictureUploaded=function(i){'use strict';c('tidyEvent')([c('Arbiter').subscribe(c('ProfileWizardUIEvents').PROFILE_PIC_UPLOADED,i),c('Arbiter').subscribe(c('TimelineProfilePicConfig').success,i)]);};h.prototype.subscribeStepEdited=function(i,j){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('ProfileWizardUIEvents').STEP_EDITED+'-'+i,j));};h.prototype.subscribeOnceProfilePictureUploaded=function(i){'use strict';c('tidyEvent')([c('Arbiter').subscribeOnce(c('ProfileWizardUIEvents').PROFILE_PIC_UPLOADED,i),c('Arbiter').subscribeOnce(c('TimelineProfilePicConfig').success,i)]);};f.exports=new h();},null);
__d('ProfilePicCropViewerMixin',['AsyncResponse','DialogX','DOM','Event','LayerDestroyOnHide','PhotoEditorGraphic','ProfilePicCanvas','ProfilePicCropViewerStrings','ProfilePicCoordinatesUtil','ProfilePictureFlowLogging','ProfileWizardModalManager','React','Run','TimelineURI','Vector','XProfilePicSaver','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','tidyEvent'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PhotoEditorGraphic').Sticker,i=c('React').PropTypes,j=360,k={propTypes:{method:i.string,source:i.string,uploadRequest:i.object,warnOnClose:i.bool.isRequired},getDefaultProps:function(){return {warnOnClose:true};},componentDidMount:function(){this._preventClose=true;this._unloadListener=c('Run').onBeforeUnload(function(){if(!this._shouldAllowClose()&&this.props.warnOnClose)return c('ProfilePicCropViewerStrings').LEAVE_WARNING_UNLOAD;return null;}.bind(this),true);this._logFlowStep(c('ProfilePictureFlowLogging').step.VIEWER_INIT);},componentDidUpdate:function(l,m){if(!m.photoData&&this.state.photoData)this._logFlowStep(this.state.photoData.previousprofilepic?c('ProfilePictureFlowLogging').step.PREVIOUS_PIC_INIT:c('ProfilePictureFlowLogging').step.CROP);},componentWillUnmount:function(){this._warningDialog&&this._warningDialog.destroy();this._warningDialog=null;this._unloadListener&&this._unloadListener.remove();this._unloadListener=null;},_forceClose:function(l){this._preventClose=false;this.close();this._logFlowStep(l||c('ProfilePictureFlowLogging').step.CANCEL);},handleCancel:function(){if(this.props.cancelCallback)this.props.cancelCallback();if(!this.props.warnOnCancel||this._shouldAllowClose()){this._forceClose();return;}this._showCloseWarning();},handleUploadCancel:function(){this.props.uploadRequest&&this.props.uploadRequest.abort();this._forceClose(c('ProfilePictureFlowLogging').step.UPLOAD_CANCEL);},handlePositionSave:function(){var l=this._prepareSaver(),m=this.getCaption();l.saveAsProfilePicWithPosition(c('ProfilePicCoordinatesUtil').getThumbnailCoordinates(this.getCropArea(),this.getPhotoSize()),m);},handleSetThumbnailSave:function(){this.handlePositionSave();this._logFlowStep(c('ProfilePictureFlowLogging').step.SKIP_CROP);},handleCropSave:function(){var l=this.getCropArea(),m=this.getPhotoSize(),n=this.getCaption(),o=this._prepareSaver(),p=this.getOverlaySourceObjectID(),q=function(t){return o.saveCroppedProfilePic({x:l.x/m.width,y:l.y/m.height,width:l.width/m.width,height:l.height/m.height},t,n,p);},r=this.getOverlayData();if(!r){q();return;}var s=this._getImage(m.uri);c('Event').listen(s,'load',function(){var t=new (c('ProfilePicCanvas'))(s),u=new h(null,r.id,r.src,m.width,m.height);u.subscribe('loaded',function(){t.addGraphic(u,new (c('Vector'))(l.x,l.y));t.setResizeFactor(l.width/m.width);r.canvas=t;q(r);});});},_getImage:function(l){return c('DOM').create('img',{crossOrigin:'anonymous',src:l});},_prepareSaver:function(){this.setState({savingMode:true});this._preventClose=false;var l=this.state.expirationTime;if(l<=0)l=null;var m=new (c('XProfilePicSaver'))(this.state.photoData.id,this.props.profileID,l).setFlowType(this.getFlowType());c('tidyEvent')([m.subscribe('success',this._savingSuccess),m.subscribe('error',this._savingError)]);this.props.method&&m.setProfilePhotoMethod(this.props.method);this.props.source&&m.setProfilePhotoSource(this.props.source);return m;},_logFlowStep:function(l){c('ProfilePictureFlowLogging').setFlowType(this.getFlowType()).setSource(this.props.source).log(l);},_savingSuccess:function(l,m){if(this.props.successCallback){this.props.successCallback(m);this.close();return;}if(c('ProfileWizardModalManager').isOpen()){c('ProfileWizardModalManager').informProfilePictureUploaded({response:m});this.close();return;}var n=new (c('DialogX'))({addedBehaviors:[c('LayerDestroyOnHide')],width:j,xui:true},c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},c('ProfilePicCropViewerStrings').SAVED_TITLE),c('React').createElement(c('XUIDialogBody.react'),null,c('ProfilePicCropViewerStrings').SAVED_BODY)));n.subscribeOnce('aftershow',this.close);n.show();c('TimelineURI').goToProfileID(this.props.profileID);},_savingError:function(l,m){this._preventClose=true;this.setState({savingMode:false});c('AsyncResponse').defaultErrorHandler(m);this.inform('save_error',m);if(this.props.errorCallback)this.props.errorCallback();},_shouldAllowClose:function(){return !this._preventClose;},_showCloseWarning:function(){if(!this._warningDialog)this._warningDialog=new (c('DialogX'))({modal:true,width:j,xui:true},c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,c('ProfilePicCropViewerStrings').LEAVE_WARNING_TITLE),c('React').createElement(c('XUIDialogBody.react'),null,c('ProfilePicCropViewerStrings').LEAVE_WARNING_BODY),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:c('ProfilePicCropViewerStrings').LEAVE_WARNING_CANCEL}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',onClick:function(){return this._forceClose();}.bind(this),label:c('ProfilePicCropViewerStrings').LEAVE_WARNING_OK,use:'confirm'}))));this._warningDialog.show();}};f.exports=k;},null);
__d('ProfilePicOverlayPhotoPlaceholder.react',['ix','cx','fbt','Image.react','React','PhotoBrowserLink.react','XUIText.react','fbglyph','joinClasses'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('PhotoBrowserLink.react'),{className:c('joinClasses')(this.props.className,"_-ly"),dialogURI:this.props.dialogURI,onPhotoChoose:this.props.onPhotoChoose,style:{height:this.props.dimension,width:this.props.dimension}},c('React').createElement('div',{className:"_-lz"},c('React').createElement(c('Image.react'),{className:"_-l_",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/photo-album_20_bluegray-40.png")}),c('React').createElement(c('XUIText.react'),{size:'xlarge'},j._("Seleccionar una foto")))));};function m(){'use strict';k.apply(this,arguments);}f.exports=m;},null);
__d('ProfilePicOverlaySelector.react',['cx','Layout.react','ProfilePicOverlaySelectorMixin','React','ReactComponentWithPureRenderMixin','Image.react','XUIText.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('Layout.react').Column,j=c('Layout.react').FillColumn,k=c('React').createClass({displayName:'ProfilePicOverlaySelector',mixins:[c('ProfilePicOverlaySelectorMixin'),c('ReactComponentWithPureRenderMixin')],render:function(){return (c('React').createElement(c('Layout.react'),{className:"__bo"},c('React').createElement(i,{className:"__bp"+(!this._canClickLeft()?' '+"__br":''),onClick:this._onLeftClick},c('React').createElement(c('Image.react'),{src:this._canClickLeft()?this._getDarkLeftGlyph():this._getLightLeftGlyph()})),c('React').createElement(j,{className:"_2pi7"},c('React').createElement(c('XUIText.react'),{size:'small'},this._getControlText())),c('React').createElement(i,{className:"__bp"+(!this._canClickRight()?' '+"__br":''),onClick:this._onRightClick},c('React').createElement(c('Image.react'),{src:this._canClickRight()?this._getDarkRightGlyph():this._getLightRightGlyph()}))));}});f.exports=k;},null);
__d('ProfilePicOverlayZoomCrop.react',['cx','BasicVector','ProfilePicOverlayViewShapes','PhotoZoomCropDimensions','PhotoZoomCropMixin','React','SpotlightProfilePicCropOptions','PhotoZoomCropImage.react','PhotoZoomCropSlider.react','ProfilePicOverlay.react','XUISpinner.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ProfilePicOverlayZoomCrop',_dims:null,mixins:[c('PhotoZoomCropMixin')],propTypes:{height:i.number.isRequired,onOverlayLoad:i.func,overlayData:c('ProfilePicOverlayViewShapes').OVERLAY_DATA,photoData:c('ProfilePicOverlayViewShapes').PHOTO_DATA.isRequired,savingMode:i.bool.isRequired,width:i.number.isRequired},getInitialState:function(){this._updateDimensions(this.props.photoData);return this._getUpdatedDimensionsState();},componentWillReceiveProps:function(k){if(this.props.photoData.id===k.photoData.id)return;this._updateDimensions(k.photoData);this.setState(this._getUpdatedDimensionsState());},_updateDimensions:function(k){var l=new (c('BasicVector'))(k.original.width,k.original.height),m=c('SpotlightProfilePicCropOptions').getOptionsAsRatio(k,l),n=m.center,o=m.size,p=new (c('PhotoZoomCropDimensions'))(l);p.setSize(this.props.width,this.props.height);if(n)p.setCenter(n.x,n.y);if(o){var q=o.x*l.x;p.setZoom(p.getSize().x/q);}this._dims=p;},_getUpdatedDimensionsState:function(){var k=this._getDimensionsState();k.position=this._dims&&this._dims.getZoom();return k;},render:function(){var k=null;if(this.props.savingMode)k=c('React').createElement('div',{className:"_5chi"},c('React').createElement(c('XUISpinner.react'),{background:'dark',className:"_5chj",size:'large'}));var l=null;if(this.props.overlayData)l=c('React').createElement(c('ProfilePicOverlay.react'),{onLoad:this.props.onOverlayLoad,src:this.props.overlayData.src});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5cia"},c('React').createElement(c('PhotoZoomCropImage.react'),{className:"_5cib",dimensions:this._dims,onMove:this._handleMove,overlay:l,enableDrag:this._dims&&this._dims.isCurrentlyDragable(),src:this.props.photoData.original.uri}),k),c('React').createElement(c('PhotoZoomCropSlider.react'),{className:"_5cid",onZoom:this._handleZoom,position:this.state.position,zoom:this.state.zoom,zoomRange:this._dims&&this._dims.getZoomRange()})));},__getZoom:function(){return this.state.zoom;}});f.exports=j;},null);
__d('ProfilePicViewerPublicIcon.react',['cx','ProfilePicCropViewerStrings','React','ReactComponentWithPureRenderMixin','Tooltip','Image.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ProfilePicViewerPublicIcon',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{photoData:i.object.isRequired},render:function(){if(this.props.photoData.isWorkUser)return null;return (c('React').createElement(c('Image.react'),babelHelpers['extends']({className:c('joinClasses')(this.props.className,"_3llf")},c('Tooltip').propsFor(c('ProfilePicCropViewerStrings').PROFILE_PIC_VISIBILITY),{src:'/images/mobile/privacy/lightgray_large/everyone.png'})));}});f.exports=j;},null);
__d("XProfilePictureOverlayLandingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profilepicframes\/{?special_path}\/",{photo_id:{type:"Int"},profile_id:{type:"Int"},selected_category_id:{type:"Int"},selected_page_id:{type:"Int"},selected_overlay_id:{type:"Int"},special_path:{type:"String"},overlay_source_object_id:{type:"FBID"}});},null);
__d("XProfilePictureOverlayMenuDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/gameface\/menu_dialog\/",{__asyncDialog:{type:"Int"}});},null);
__d("XProfilePictureOverlayPhotoAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/gameface\/get_photo\/",{photo_id:{type:"String"}});},null);
__d("XReactFeedComposerXPromptDismissController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/prompts\/dismiss\/",{user_action:{type:"Enum",enumType:1},prompt_id:{type:"String"},prompt_type:{type:"String"},prompt_tracking_string:{type:"String"},prompt_state:{type:"String"}});},null);
__d('ProfilePicOverlayLandingView.react',['cx','ArbiterMixin','AsyncRequest','DateConsts','Event','ProfilePicCropViewerMixin','ProfilePicCropViewerStrings','ProfilePicOverlayViewShapes','ProfilePictureFlowLogging','ProfilePictureOverlaySurface','XReactFeedComposerXPromptDismissController','ProductionPromptShapes','PromptsInteractionsEventNames','React','SpotlightViewerCoreMixin','XProfilePictureOverlayLandingController','XProfilePictureOverlayMenuDialogController','XProfilePictureOverlayPhotoAsyncController','immutable','ActorSelector.react','Layout.react','LeftRight.react','ProfilePicExpirationSelector.react','ProfilePicOverlayChangePictureLink.react','ProfilePicOverlayGridSelector.react','ProfilePicOverlayPhotoPlaceholder.react','ProfilePicOverlaySelector.react','ProfilePicOverlayZoomCrop.react','ProfilePicViewerPublicIcon.react','XUIButton.react','XUICard.react','goURI','tidyEvent'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('immutable').Map,j=c('Layout.react').Column,k=512,l=348,m=424,n=469,o=304,p='profile-picture-overlay',q=c('React').PropTypes,r=c('React').createClass({displayName:'ProfilePicOverlayLandingView',mixins:[c('ArbiterMixin'),c('ProfilePicCropViewerMixin'),c('SpotlightViewerCoreMixin')],propTypes:{actorIDs:q.arrayOf(q.string),categories:q.object.isRequired,height:q.number.isRequired,initialPhotoData:c('ProfilePicOverlayViewShapes').PHOTO_DATA,onCategoryChange:q.func.isRequired,onOverlayPrev:q.func.isRequired,onOverlayNext:q.func.isRequired,overlays:q.object.isRequired,pages:q.object.isRequired,promptData:c('ProductionPromptShapes').LOGGING_DATA,selectedCategoryID:q.string,selectedOverlayID:q.string,selectedPageID:q.string,surface:q.string,width:q.number.isRequired,overlaySourceObjectID:q.string},getInitialState:function(){var s={open:true},t=this.props.surface===c('ProfilePictureOverlaySurface').WWW_BIRTHDAY_DIALOG?c('DateConsts').SEC_PER_DAY:c('DateConsts').SEC_PER_WEEK,u={expirationTime:t,photoData:this.props.initialPhotoData,savingMode:false};return babelHelpers['extends']({},s,u);},render:function(){var s=this.props.selectedPageID,t=null;if(this.props.actorIDs&&this.props.actorIDs.length)t=c('React').createElement(c('ActorSelector.react'),{actorIDs:this.props.actorIDs,loading:false,onChange:function(ea){return c('goURI')(c('XProfilePictureOverlayLandingController').getURIBuilder().setInt('profile_id',ea.value).setInt('selected_page_id',s).getURI());},selectedActorID:this.props.profileID,coverEnabled:false});var u=this.props,v=u.overlays,w=u.pages,x=u.selectedOverlayID,y=null;if(v&&v.size>1&&x){var z=w.get(s),aa=z.indexOfOverlayID(x);y=c('React').createElement('div',{className:"_3rff"},c('React').createElement(c('ProfilePicOverlaySelector.react'),{onLeftClick:this._onLeftOverlaySelect,onRightClick:this._onRightOverlaySelect,selectedItem:aa+1,totalItems:v.size}));}var ba=c('XProfilePictureOverlayMenuDialogController').getURIBuilder().getURI(),ca=void 0,da=void 0;if(this.state.photoData.id){ca=c('React').createElement(c('ProfilePicOverlayZoomCrop.react'),{height:this.props.height,onOverlayLoad:this._onOverlayLoad,overlayData:this.getOverlayData(),photoData:this.state.photoData,ref:'zoomCrop',savingMode:this.state.savingMode,width:this.props.width});da=c('React').createElement('div',{className:"_2ftj"},c('React').createElement('div',{className:"_2ftk"},c('React').createElement(c('ProfilePicOverlayChangePictureLink.react'),{dialogURI:ba,onPhotoChoose:this._onPhotoChoose})),y);}else{ca=c('React').createElement('div',{style:{height:n,width:m}},c('React').createElement(c('ProfilePicOverlayPhotoPlaceholder.react'),{dialogURI:ba,dimension:m,onPhotoChoose:this._onPhotoChoose}));da=c('React').createElement('div',{className:"_2ftj"});}return (c('React').createElement(c('XUICard.react'),null,c('React').createElement(c('Layout.react'),{className:"_1v8l",style:{height:k}},c('React').createElement(j,{className:"_1f4"},ca,da),c('React').createElement(j,{className:"_1e8-",style:{width:l}},c('React').createElement(c('ProfilePicOverlayGridSelector.react'),{categories:this.props.categories,onCategorySelectorChange:this._onCategorySelectorChange,onPageClickHandler:this._onPageClickHandler,pages:w,panelHeight:o,selectedCategoryID:this.props.selectedCategoryID,selectedPageID:s}),c('React').createElement('div',{className:"_3rfg"},c('React').createElement(c('ProfilePicExpirationSelector.react'),{allowCustomDate:true,className:"_2pio _56s-",defaultValue:this.state.expirationTime,onChange:function(ea){return this.setState({expirationTime:ea});}.bind(this),showCustomOption:true}),c('React').createElement(c('LeftRight.react'),{className:"_1e91"},t,c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('ProfilePicViewerPublicIcon.react'),{className:"_1f5",photoData:{}}),c('React').createElement(c('XUIButton.react'),{className:"_1e92",disabled:this.state.savingMode||!this.state.photoData.id||!x,label:c('ProfilePicCropViewerStrings').USE_AS_PROFILE_PICTURE,onClick:function(){return this._handleSave();}.bind(this),size:'large',use:'confirm'}))))))));},_onLeftOverlaySelect:function(){this.setState({savingMode:true});this.props.onOverlayPrev();},_onRightOverlaySelect:function(){this.setState({savingMode:true});this.props.onOverlayNext();},_onCategorySelectorChange:function(s){this.props.onCategoryChange(s.value);},_onPhotoChoose:function(s){this.setState({savingMode:true});var t=c('XProfilePictureOverlayPhotoAsyncController').getURIBuilder().setString('photo_id',s).getURI();new (c('AsyncRequest'))(t).setHandler(this._asyncResponseHandler).send();},_asyncResponseHandler:function(s){var t=s.payload,u=new i(this.state.photoData).set('original',t.original).set('id',t.id).toObject(),v=new Image();c('tidyEvent')(c('Event').listen(v,'load',function(){return this.setState({photoData:u,savingMode:false});}.bind(this)));v.src=t.original.uri;},_onPageClickHandler:function(s){if(s!==this.props.selectedPageID){this.setState({savingMode:true});this.props.onPageChange(s);}},_onOverlayLoad:function(){this.setState({savingMode:false});},_handleSave:function(){if(this.props.promptData){var s=this.props.promptData,t=s.promptID,u=s.promptType,v=s.trackingString;new (c('AsyncRequest'))().setURI(c('XReactFeedComposerXPromptDismissController').getURIBuilder().getURI()).setData({user_action:c('PromptsInteractionsEventNames').POST_PROMPT,prompt_id:t,prompt_type:u,prompt_tracking_string:v}).send();}this.handleCropSave();},getCropArea:function(){return this.refs.zoomCrop.getDimensions().getArea();},getFlowType:function(){return c('ProfilePictureFlowLogging').flow.ZOOMCROP;},getPhotoSize:function(){return this.state.photoData.original;},getCaption:function(){return '';},getOverlayData:function(){var s=this.props.selectedOverlayID;if(s){var t=this.props.overlays.get(s);return {id:s,src:t.getSrc(this.props.overlaySizes[0])};}return null;},getOverlaySourceObjectID:function(){return this.props.overlaySourceObjectID;},getViewerID:function(){return (p+':'+this.state.photoData.id+':'+this.props.profileID+':'+this.props.selectedPageID);}});f.exports=r;},null);