if (self.CavalryLogger) { CavalryLogger.start_js(["51lDE"]); }

__d('MessengerContactActions',['keyMirror'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({ADD_OWNER:null,MESSAGE:null,PROFILE:null,REMOVE:null,REMOVE_OWNER:null,SELECT:null});},null);
__d('MessengerContactAdapters',['immutable','ImmutableObject','MercuryTypeaheadConstants'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={fromSearchableEntry:function(i){var j=i.getType(),k={alias:null,isMessengerUser:null,participants:null,photo:i.getPhoto(),subtitle:i.getSubtitle(),thread:null,title:i.getTitle(),type:j,uid:i.getUniqueID()},l=i.getAuxiliaryData();if(l)if(j===c('MercuryTypeaheadConstants').THREAD_TYPE){k.thread=new (c('ImmutableObject'))(l.thread);k.participants=c('immutable').Map().withMutations(function(m){l.participantsToRender.forEach(function(n){m.set(n.id,n);});});}else{k.isMessengerUser=l.isMessengerUser;k.alias=l.alias;}return new (c('ImmutableObject'))(k);},fromMercuryParticipant:function(i){return new (c('ImmutableObject'))({alias:i.alias,uid:i.id,photo:i.image_src,title:i.name,subtitle:'',type:i.type,isMessengerUser:i.is_messenger_user,href:i.href});}};f.exports=h;},null);
__d('MessengerThreadImage.react',['immutable','ImmutableObject','MercuryIDs','MercuryThreadImage.react','MessengerProfileImageWrapper.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerThreadImage',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{participants:h.instanceOf(c('immutable').Map).isRequired,showBadge:h.bool,size:h.number,thread:h.instanceOf(c('ImmutableObject')).isRequired,viewer:h.string.isRequired},getDefaultProps:function(){return {showBadge:true};},render:function(){return (c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:this.props.className,isMessengerUser:this._getIsMessengerUser(),size:this.props.size,showBadge:this.props.showBadge&&c('MercuryIDs').isCanonical(this.props.thread.thread_id)},c('React').createElement(c('MercuryThreadImage.react'),{size:this.props.size,thread:this.props.thread,viewer:this.props.viewer,useBackground:true})));},_getIsMessengerUser:function(){if(!c('MercuryIDs').isCanonical(this.props.thread.thread_id)||this.props.participants.size===0)return null;var j=this.props.thread.other_user_fbid,k=c('MercuryIDs').getParticipantIDFromUserID(j),l=this.props.participants.get(k);return l&&l.is_messenger_user;}});f.exports=i;},null);
__d('MessengerTypeaheadUtils',['fbt','immutable','MercuryConfig','MercuryTypeaheadConstants','ReactDOM','WorkModeConfig','mapObject'],function a(b,c,d,e,f,g,h){'use strict';var i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').OrderedMap,k=c('WorkModeConfig').is_work_user?[c('MercuryTypeaheadConstants').FRIEND_TYPE,c('MercuryTypeaheadConstants').FB4C_TYPE,c('MercuryTypeaheadConstants').THREAD_TYPE,c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE,c('MercuryTypeaheadConstants').PAGE_TYPE,c('MercuryTypeaheadConstants').NON_FRIEND_TYPE,c('MercuryTypeaheadConstants').SEARCH_TYPE]:[c('MercuryTypeaheadConstants').FRIEND_TYPE,c('MercuryTypeaheadConstants').THREAD_TYPE,c('MercuryTypeaheadConstants').FB4C_TYPE,c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE,c('MercuryTypeaheadConstants').PAGE_TYPE,c('MercuryTypeaheadConstants').NON_FRIEND_TYPE,c('MercuryTypeaheadConstants').SEARCH_TYPE],l=(i={},i[c('MercuryTypeaheadConstants').FRIEND_TYPE]={header:h._("Amigos")},i[c('MercuryTypeaheadConstants').FB4C_TYPE]={header:h._("Compa\u00f1eros de trabajo")},i[c('MercuryTypeaheadConstants').THREAD_TYPE]={header:h._("Conversaciones de grupo")},i[c('MercuryTypeaheadConstants').PAGE_TYPE]={header:h._("Negocios")},i[c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE]={header:h._("Salas de reuniones")},i[c('MercuryTypeaheadConstants').NON_FRIEND_TYPE]={header:h._("M\u00e1s personas")},i[c('MercuryTypeaheadConstants').SEARCH_TYPE]={header:''},i),m={sortEntries:function(n,o){var p=[],q=[],r=[],s=[],t=[],u=[],v=[];n.forEach(function(w){switch(w.getType()){case c('MercuryTypeaheadConstants').FRIEND_TYPE:q.push(w);break;case c('MercuryTypeaheadConstants').FB4C_TYPE:r.push(w);break;case c('MercuryTypeaheadConstants').THREAD_TYPE:s.push(w);break;case c('MercuryTypeaheadConstants').PAGE_TYPE:case c('MercuryTypeaheadConstants').COMMERCE_PAGE_TYPE:u.push(w);break;case c('MercuryTypeaheadConstants').NON_FRIEND_TYPE:t.push(w);break;case c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE:v.push(w);break;case c('MercuryTypeaheadConstants').SEARCH_TYPE:p.push(w);break;}});if(m._shouldHoistPages(o))return u.concat(q,r,s,v,t,p);return q.concat(r,s,v,u,t,p);},sortEntriesWithoutPages:function(n){var o=[],p=[],q=[],r=[];n.forEach(function(s){switch(s.getType()){case c('MercuryTypeaheadConstants').FRIEND_TYPE:o.push(s);break;case c('MercuryTypeaheadConstants').FB4C_TYPE:p.push(s);break;case c('MercuryTypeaheadConstants').THREAD_TYPE:q.push(s);break;case c('MercuryTypeaheadConstants').NON_FRIEND_TYPE:r.push(s);break;}});return o.concat(p,q,r);},sortEntriesWithoutGroupsOrViewer:function(n,o){var p=[],q=[],r=[];n.forEach(function(s){if(s.getUniqueID()===o)return;switch(s.getType()){case c('MercuryTypeaheadConstants').FRIEND_TYPE:p.push(s);break;case c('MercuryTypeaheadConstants').FB4C_TYPE:q.push(s);break;case c('MercuryTypeaheadConstants').NON_FRIEND_TYPE:r.push(s);break;}});return p.concat(q,r);},getEntryOrder:function(n){var o=arguments.length<=1||arguments[1]===undefined?k:arguments[1];if(m._shouldHoistPages(n)){o=[].concat(o);o.splice(o.indexOf(c('MercuryTypeaheadConstants').PAGE_TYPE));o.unshift(c('MercuryTypeaheadConstants').PAGE_TYPE);}return o;},orderEntries:function(n,o){var p=[];this.getEntryOrder(o).forEach(function(q){return p.push.apply(p,n.filter(function(r){return (this.areSectionsEqual(r.getType(),q));}.bind(this)));}.bind(this));return p;},buildListSections:function(n,o,p){if(!n.length)return j();p=this.getEntryOrder(o,p);var q=c('mapObject')(l,function(r){return babelHelpers['extends']({},r,{entries:[]});});q[c('MercuryTypeaheadConstants').COMMERCE_PAGE_TYPE]=q[c('MercuryTypeaheadConstants').PAGE_TYPE];n.forEach(function(r){var s=r.getType();if(q[s])q[s].entries.push(r);});return j(p.filter(function(r){return q[r].entries.length;}).map(function(r){return [q[r].header,q[r].entries];}));},buildCustomSection:function(n,o){var p;return p={},p[n]=o,p;},areSectionsEqual:function(n,o){if(n===c('MercuryTypeaheadConstants').COMMERCE_PAGE_TYPE)return o===c('MercuryTypeaheadConstants').COMMERCE_PAGE_TYPE||o===c('MercuryTypeaheadConstants').PAGE_TYPE;return n===o;},scrollEntryIntoView:function(n,o){var p=c('ReactDOM').findDOMNode(o),q=o.getScrollTop(),r=n.offsetTop-q,s=p.offsetHeight-n.offsetHeight;if(r>=s){o.scrollToPosition(q+r-s);}else if(r<0)o.scrollToPosition(q+r);},_shouldHoistPages:function(n){if(!n)return false;return !!(c('MercuryConfig').HoistAgentsKeywords&&c('MercuryConfig').HoistAgentsKeywords.indexOf(n.toLowerCase().trim())!==-1);}};f.exports=m;},null);
__d('MessengerContactListRow.react',['cx','fbt','ix','Image.react','ImageBlock.react','ImmutableObject','Link.react','MercuryConfig','MercuryTypeaheadConstants','MessengerAdminGroupUtils','MessengerContactActions','MessengerContactImage.react','MessengerTextWithEntities.react','MessengerThreadImage.react','ReactComponentWithPureRenderMixin','React','ReactDOM','TextWithEntities.react','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=j('/images/mercury/clients/messenger/core/Checkmark.png'),m=32,n=c('React').createClass({displayName:'MessengerContactListRow',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{actionsClass:k.func,adminIds:k.arrayOf(k.string),className:k.string,contact:k.instanceOf(c('ImmutableObject')).isRequired,disableRole:k.bool,extraActionsEnabled:k.bool.isRequired,isHighlighted:k.bool,isInvited:k.bool,isOriginal:k.bool,isSelected:k.bool,onAction:k.func,onMouseEnter:k.func,onScrollIntoView:k.func,presenceStatus:k.bool,thread:k.instanceOf(c('ImmutableObject')),viewer:k.string.isRequired},getInitialState:function(){return {isActionsOpen:false};},componentDidMount:function(){if(this.props.isHighlighted&&this.props.onScrollIntoView){var o=c('ReactDOM').findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(o);this.props.onRenderHighlight&&this.props.onRenderHighlight(o);}},componentDidUpdate:function(o){if(this.props.isHighlighted&&!o.isHighlighted){var p=c('ReactDOM').findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(p);this.props.onRenderHighlight&&this.props.onRenderHighlight(p);}},render:function(){var o=this.props.disableRole?{}:{'aria-selected':this.props.isHighlighted,role:'option'};return (c('React').createElement('li',babelHelpers['extends']({},o,{className:c('joinClasses')(this.props.className,"_5l37"+(this.props.isHighlighted?' '+"_1k1p":'')+(this.state.isActionsOpen?' '+"_rwn":''))}),c('React').createElement(c('Link.react'),{className:"_5f0v",onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseEnter:this.props.onMouseEnter,tabIndex:this.props.actionsClass?0:-1},c('React').createElement(c('ImageBlock.react'),{contentClassName:"_5l38",spacing:'medium'},this._renderContactImage(),this._renderContactText(),this._renderActions()))));},_handleMouseDown:function(o){if(this.props.actionsClass)return;o.stopPropagation();o.preventDefault();},_handleClick:function(o){o.stopPropagation();this._handleContactAction(c('MessengerContactActions').SELECT,o);},_renderContactImage:function(){if(this.props.contact.photo){return (c('React').createElement(c('MessengerContactImage.react'),{className:"_5l39 _5rmm",isMessengerUser:this.props.contact.isMessengerUser,size:m,src:this.props.contact.photo}));}else if(this.props.contact.type===c('MercuryTypeaheadConstants').THREAD_TYPE)return (c('React').createElement(c('MessengerThreadImage.react'),{className:"_5l39",participants:this.props.contact.participants,size:m,thread:this.props.thread||this.props.contact.thread,viewer:this.props.viewer}));return c('React').createElement('div',{className:"_5l39"});},_renderContactText:function(){if(this.props.contact.subtitle){var o=c('TextWithEntities.react');if(c('MercuryConfig').MessengerNewEmojiGK)o=c('MessengerTextWithEntities.react');return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3q34"},c('React').createElement(o,{renderEmoji:true,renderEmoticons:true,text:this.props.contact.title})),c('React').createElement('div',{className:"_3q35"},this.props.contact.subtitle)));}else return (c('React').createElement('div',{className:"_364g"},this.props.contact.title));},_renderActions:function(){if(this.props.isOriginal)return (c('React').createElement('span',{className:"_5rh4"},i._("Agregado")));if(this.props.isInvited)return (c('React').createElement('span',{className:"_5rh4"},i._("Invitado")));if(this.props.isSelected)return (c('React').createElement(c('Image.react'),{className:"_1kqm",src:l}));if(this.props.presenceStatus)return (c('React').createElement('div',{className:"_jg2"}));var o=null,p=c('MessengerAdminGroupUtils').isAdmin(this.props.adminIds,this.props.contact.uid),q=this.props.thread;if(q&&c('MessengerAdminGroupUtils').isOwner(p,q))o=c('React').createElement('span',{className:"_5qsj"},i._("Propietario"));if(this.props.actionsClass){var r=this.props.actionsClass;return (c('React').createElement('div',null,o,c('React').createElement(r,{className:"_rwo",adminIds:this.props.adminIds,contact:this.props.contact,extrasEnabled:this.props.extraActionsEnabled,isOpen:this.state.isActionsOpen,onAction:this._handleContactAction,onToggle:this._handleActionsToggle,viewer:this.props.viewer})));}return o;},_handleContactAction:function(o,event){this.props.onAction&&this.props.onAction(o,event);},_handleActionsToggle:function(o){this.setState({isActionsOpen:o});}});f.exports=n;},null);
__d('MessengerContactListRowContainer.react',['AvailableListConstants','immutable','ImmutableObject','MercuryIDs','MercuryParticipantTypes','MessengerContactActions','MessengerContactListRow.react','PresenceStatus','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerContactListRowContainer',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{actionsClass:h.func,adminIds:h.arrayOf(h.string),contactAdapter:h.func.isRequired,disableRole:h.bool,extraActionsEnabled:h.bool.isRequired,hasHoverState:h.bool,invitedEntryIDs:h.instanceOf(c('immutable').Set),isHighlighted:h.bool,onAction:h.func,onHighlight:h.func,onScrollIntoView:h.func,onSelect:h.func.isRequired,originalEntryIDs:h.instanceOf(c('immutable').Set),rawContact:h.object.isRequired,rowClassName:h.string,selectedEntryIDs:h.instanceOf(c('immutable').Set),showPresence:h.bool,thread:h.instanceOf(c('ImmutableObject')),viewer:h.string.isRequired},getInitialState:function(){return {contact:this.props.contactAdapter(this.props.rawContact)};},componentWillReceiveProps:function(j){if(j.rawContact!==this.props.rawContact)this.setState({contact:j.contactAdapter(j.rawContact)});},render:function(){return (c('React').createElement(c('MessengerContactListRow.react'),{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,className:this.props.rowClassName,contact:this.state.contact,disableRole:this.props.disableRole,extraActionsEnabled:this.props.extraActionsEnabled,isHighlighted:this.props.isHighlighted,isInvited:this.props.invitedEntryIDs&&this.props.invitedEntryIDs.contains(this.state.contact.uid),isOriginal:this.props.originalEntryIDs&&this.props.originalEntryIDs.contains(this.state.contact.uid),isSelected:this.props.selectedEntryIDs&&this.props.selectedEntryIDs.contains(this.state.contact.uid),onAction:this._handleAction,onMouseEnter:this._handleMouseEnter,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this._handleSelect,presenceStatus:this._getPresenceStatus(),thread:this.props.thread||this.state.contact.thread,viewer:this.props.viewer}));},_handleMouseEnter:function(){if(!this.props.hasHoverState)return;this.props.onHighlight&&this.props.onHighlight(this.props.rawContact);},_handleAction:function(j,event){switch(j){case c('MessengerContactActions').SELECT:this.props.onSelect(this.props.rawContact,event);break;default:this.props.onAction&&this.props.onAction(j,this.props.rawContact);break;}},_getPresenceStatus:function(){var j=this.state.contact;if(!this.props.showPresence||j.type!==c('MercuryParticipantTypes').FRIEND&&j.type!==c('MercuryParticipantTypes').USER)return false;var k=c('MercuryIDs').getUserIDFromParticipantID(j.uid);return c('PresenceStatus').get(k)==c('AvailableListConstants').ACTIVE;}});f.exports=i;},null);
__d('MessengerContactList.react',['cx','fbt','MessengerContactListRowContainer.react','ImageBlock.react','immutable','ImmutableObject','MessengerSpinner.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerContactList',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{actionsClass:j.func,adminIds:j.arrayOf(j.string),ariaOwneeID:j.string,contactAdapter:j.func.isRequired,disableRole:j.bool,extraActionsEnabled:j.bool,hasHoverState:j.bool,highlightedEntry:j.object,invitedEntryIDs:j.instanceOf(c('immutable').Set),isLoading:j.bool,listSections:j.instanceOf(c('immutable').OrderedMap).isRequired,onAction:j.func,onHighlight:j.func,onRenderHighlight:j.func,onScrollIntoView:j.func,onSelect:j.func.isRequired,originalEntryIDs:j.instanceOf(c('immutable').Set),queryString:j.string,rowClassName:j.string,selectedEntryIDs:j.instanceOf(c('immutable').Set),showPresence:j.bool,thread:j.instanceOf(c('ImmutableObject')),viewer:j.string.isRequired},render:function(){return (c('React').createElement('div',{className:this.props.className},this.props.listSections.map(this._renderListSection).toArray(),this._renderSpinner(),this._renderEmptyResult()));},_renderListSection:function(l,m){return (c('React').createElement('div',{key:m,className:"_29hk"},this._renderHeader(m),c('React').createElement('ul',{id:this.props.ariaOwneeID,role:this.props.disableRole?undefined:'listbox',className:"_29hl"},l.map(function(n){return (c('React').createElement(c('MessengerContactListRowContainer.react'),{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry===n,key:n.id||n.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:n,rowClassName:this.props.rowClassName,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,viewer:this.props.viewer}));}.bind(this)))));},_renderHeader:function(l){if(!l)return null;return (c('React').createElement('div',{className:"_225b"},l));},_renderSpinner:function(){if(!this.props.isLoading)return null;return (c('React').createElement(c('ImageBlock.react'),{className:"_225c",spacing:'medium'},c('React').createElement(c('MessengerSpinner.react'),{className:"_2i59",color:'grey'}),c('React').createElement('div',{className:"_4g0h"},i._("Buscando..."))));},_renderEmptyResult:function(){if(this.props.isLoading||this.props.listSections.size>0||!this.props.queryString||this.props.queryString.length===0)return null;return (c('React').createElement('div',{className:"_3xcx"},i._("No se encontraron resultados")));}});f.exports=k;},null);
__d('MessengerScrollableArea.react',['cx','React','ReactDOM','ScrollableArea.react','Style','UserAgent','clearImmediate','joinClasses','setImmediate','throttle'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=20,k=c('React').createClass({displayName:'MessengerScrollableArea',propTypes:{onScroll:i.func,width:i.number},_resizeCallback:null,componentDidMount:function(){this._resizeCallback=c('setImmediate')(this._resize);},componentWillUnmount:function(){c('clearImmediate')(this._resizeCallback);},render:function(){return (c('React').createElement(c('ScrollableArea.react'),{className:c('joinClasses')("_5f0v",this.props.className),height:this.props.height,onScroll:this._handleScroll,ref:'scrollable',shadow:false,style:this.props.style,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children));},_handleScroll:c('throttle')(function(){var l;this.props.onScroll&&(l=this.props).onScroll.apply(l,arguments);},50),_resize:function(){if(!c('UserAgent').isBrowser('IE'))return;var l=this.refs.scrollable.refs.wrap,m=this.refs.scrollable.refs.body;if(!m||!l)return;m=c('ReactDOM').findDOMNode(m);l=c('ReactDOM').findDOMNode(l);var n=l.offsetWidth-l.clientWidth;if(n>0)c('Style').set(m,'margin-right',-n+'px');},getArea:function(){return this.refs.scrollable.getArea();},scrollToBottom:function(){var l=this.getArea();if(l)this.scrollToPosition(l.getScrollHeight());},scrollToTop:function(l){var m=this.getArea();if(m)m.scrollToTop(!!l);},scrollToPosition:function(l){var m=this.getArea();if(!m)return;m.setScrollTop(l,false);},isScrolledToBottom:function(){return this.isScrolledToBottomWithHeight(0);},isScrolledToBottomWithHeight:function(l){var m=this.getArea();if(!m)return false;return m.getScrollTop()+m.getClientHeight()+l>=m.getScrollHeight()-j;},isScrolledToTop:function(){var l=this.getArea();if(!l)return true;return l.getScrollTop()<=j;},getScrollTop:function(){var l=this.getArea();if(!l)return 0;return l.getScrollTop();}});f.exports=k;},null);
__d('MessengerTypeaheadView.react',['cx','immutable','MessengerContactAdapters','MessengerContactList.react','MessengerTypeaheadUtils','ReactComponentWithPureRenderMixin','React','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerTypeaheadView',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{ariaOwneeID:i.string,entries:i.array.isRequired,hasHoverState:i.bool,highlightedEntry:i.object,isLoading:i.bool,onHighlight:i.func,onRenderHighlight:i.func,onScrollIntoView:i.func,onSelect:i.func,originalEntryIDs:i.instanceOf(c('immutable').Set),invitedEntryIDs:i.instanceOf(c('immutable').Set),queryString:i.string,selectedEntryIDs:i.instanceOf(c('immutable').Set),viewer:i.string.isRequired},render:function(){return (c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_5t4c"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:this.props.highlightedEntry,isLoading:this.props.isLoading,listSections:c('MessengerTypeaheadUtils').buildListSections(this.props.entries,this.props.queryString),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,invitedEntryIDs:this.props.invitedEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer}));}});f.exports=j;},null);
__d('MessengerScrollableTypeaheadView.react',['MessengerScrollableArea.react','MessengerTypeaheadUtils','MessengerTypeaheadView.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'MessengerScrollableTypeaheadView',mixins:[c('ReactComponentWithPureRenderMixin')],render:function(){var i=this.props,j=i.className,k=i.width,l=babelHelpers.objectWithoutProperties(i,['className','width']);return (c('React').createElement(c('MessengerScrollableArea.react'),{className:j,ref:'scrollable',width:k},c('React').createElement(c('MessengerTypeaheadView.react'),babelHelpers['extends']({},l,{onScrollIntoView:this._handleScrollIntoView}))));},_handleScrollIntoView:function(i){c('MessengerTypeaheadUtils').scrollEntryIntoView(i,this.refs.scrollable);}});f.exports=h;},null);
__d('MessengerTokenizerToken.react',['cx','Keys','React','SearchableEntry','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=100,k=c('React').createClass({displayName:'MessengerTokenizerToken',propTypes:{className:i.string,entry:i.instanceOf(c('SearchableEntry')),index:i.number,label:i.string.isRequired,onRemove:i.func},render:function(){return (c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_14-8"),label:null,onClick:this._handleClick,onKeyDown:this._handleKeyDown,tabIndex:this.props.index+j},c('React').createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_14-9"},this.props.label)));},_handleClick:function(event){event.stopPropagation();},_handleKeyDown:function(event){if(event.keyCode===c('Keys').BACKSPACE){event.preventDefault();this.props.onRemove&&this.props.onRemove(this.props.entry);}}});f.exports=k;},null);
__d('MessengerTokenizer.react',['cx','invariant','AbstractTokenizer.react','immutable','React','SearchableEntry','MessengerScrollableTypeaheadView.react','MessengerTokenizerToken.react','MessengerTypeaheadUtils','ReactComponentWithPureRenderMixin','TypeaheadNavigation','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=30,l=c('React').createClass({displayName:'MessengerTokenizer',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{autoFocus:j.bool,className:j.string,context:j.object,entries:j.instanceOf(c('immutable').List).isRequired,excludeGroups:j.bool,extraRendererProps:j.object,hasHoverState:j.bool,hideViewWithEntries:j.bool,onAddEntryAttempt:j.func.isRequired,onEntriesFound:j.func,onRemoveEntryAttempt:j.func.isRequired,onReorderEntryAttempt:j.func,originalEntryIDs:j.instanceOf(c('immutable').Set),invitedEntryIDs:j.instanceOf(c('immutable').Set),placeholder:j.string,searchSource:j.object.isRequired,tabIndex:j.number,useLayer:j.bool,viewer:j.string.isRequired},getDefaultProps:function(){return {excludeGroups:false,hideViewWithEntries:true};},getInitialState:function(){return {isLoading:false,isLoaded:false,queryString:''};},_moveUp:function(m){for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];c('TypeaheadNavigation').moveUp.apply(c('TypeaheadNavigation'),[c('MessengerTypeaheadUtils').orderEntries(m,this.state.queryString)].concat(o));},_moveDown:function(m){for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];c('TypeaheadNavigation').moveDown.apply(c('TypeaheadNavigation'),[c('MessengerTypeaheadUtils').orderEntries(m,this.state.queryString)].concat(o));},componentDidMount:function(){if(this.props.autoFocus)this.focusInput();},render:function(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_14-7")},c('React').createElement(c('AbstractTokenizer.react'),{autoHighlight:this.props.hasHoverState,context:this.props.context,entries:this.props.entries.toArray(),excludeTokenEntries:!!this.state.queryString,hideViewWithEntries:this.props.hideViewWithEntries,onAddEntryAttempt:this._handleAddEntryAttempt,onEntriesFound:this.props.onEntriesFound,onQueryStringChange:this._handleQueryStringChange,onRemoveEntryAttempt:this.props.onRemoveEntryAttempt,onReorderEntryAttempt:this.props.onReorderEntryAttempt,navigation:{moveUp:this._moveUp,moveDown:this._moveDown},placeholder:this.props.placeholder,presenter:{ViewRenderer:c('MessengerScrollableTypeaheadView.react'),TokenRenderer:c('MessengerTokenizerToken.react'),alwaysVisibleOnFocus:(this.state.isLoading||this.state.isLoaded)&&!!this.state.queryString,useLayer:this.props.useLayer,extraRendererProps:babelHelpers['extends']({hasHoverState:this.props.hasHoverState,isLoading:this.state.isLoading,originalEntryIDs:this.props.originalEntryIDs,invitedEntryIDs:this.props.invitedEntryIDs,selectedEntryIDs:c('immutable').Seq(this.props.entries).map(function(m){return m.getUniqueID();}).toSet(),viewer:this.props.viewer},this.props.extraRendererProps),maxEntries:k,sortEntries:this._sortEntries},queryString:this.state.queryString,ref:'tokenizer',searchSource:this.props.searchSource,searchSourceOptions:{onQueryFinished:this._handleQueryFinished,onQueryStarted:this._handleQueryStarted,showDefaultEntries:this.props.showDefaultEntries},showEntriesOnFocus:true,tabIndex:this.props.tabIndex&&this.props.tabIndex.toString()})));},_handleAddEntryAttempt:function(m){this.setState({isLoaded:false,queryString:''});var n=m.getUniqueID();if(this.props.entries.some(function(o){return (o.getUniqueID()===n);})){this.props.onRemoveEntryAttempt(m);return;}if(this.props.originalEntryIDs&&this.props.originalEntryIDs.contains(n))return;this.props.onAddEntryAttempt(m);},_sortEntries:function(m){if(this.props.entries.size||this.props.excludeGroups)return c('MessengerTypeaheadUtils').sortEntriesWithoutGroupsOrViewer(m,this.props.viewer);return c('MessengerTypeaheadUtils').sortEntries(m,this.state.queryString);},focusInput:function(){setTimeout(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}.bind(this));},_handleQueryStarted:function(m){if(m===this.state.queryString)this.setState({isLoading:true});},_handleQueryFinished:function(m){if(m===this.state.queryString)this.setState({isLoaded:true,isLoading:false});},_handleQueryStringChange:function(event){!(event.target instanceof HTMLInputElement)?i(0):void 0;this.setState({isLoaded:false,queryString:event.target.value});}});f.exports=l;},null);